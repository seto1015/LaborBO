<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:include src="/pages/include/head.xhtml"></ui:include>
	<h:outputStylesheet library="css" name="default.css"/>
	
	<f:metadata>
		<f:event listener="#{pictureController.fetchData}" type="preRenderView"/>
	</f:metadata>
	
	<h:body>
		<ui:include src="/pages/include/headPanel.xhtml"></ui:include>
	
		<h3>Bilder</h3>  
		<p:galleria value="#{pictureController.images}" var="img" panelWidth="500" panelHeight="313" effect="clip">  
	    	<p:graphicImage value="#{pictureController.image}" alt="#{img.name}" title="#{img.name}">
	    	 	<f:param name="id" value="#{img.id}" />
			</p:graphicImage> 
		</p:galleria>  

		<h:form enctype="multipart/form-data">  
		  		
		    <p:messages showDetail="true"/>  
		  
		  	<p:panelGrid style="margin-top:20px">
		  	    <f:facet name="header">  
        			<p:row>  
            			<p:column colspan="2">Bild upload</p:column>  
        			</p:row> 
    			</f:facet> 
				<p:row>  
	           		<p:column><p:fileUpload value="#{pictureController.file}" mode="simple"/></p:column>
	           		<p:column rowspan="2">
		           		<h:outputText value="Ã–ffentlich: " />
		           		<p:selectBooleanCheckbox value="#{pictureController.publicVisable}" />
	           		</p:column>  
		        </p:row>  			
			  	<p:row>  
		 			<p:column><p:commandButton value="Hochladen" ajax="false" actionListener="#{pictureController.upload}"/></p:column>  
		        </p:row>
		  	</p:panelGrid>
		</h:form>  
	</h:body>
</html>